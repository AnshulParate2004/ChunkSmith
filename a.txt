after we click on New conversation in Progress page new Pge should open where we can also maintain emory of that chat 
Build a React chat interface that connects to a FastAPI backend with real-time streaming and image display.


## ğŸ”Œ API Endpoints

**Base URL:** `http://localhost:8000/api`

### 1. Initialize Chat
```http
POST /api/chat/init/{document_id}
```
**Response:**
```json
{
  "success": true,
  "session_id": "my_document_0",
  "document_id": "my_document"
}
```

### 2. Stream Chat (SSE)
```http
GET /api/chat/stream/{session_id}?message={user_message}
```

**SSE Events (in order):**
```javascript
{"type": "connected", "message": "Connected to chat stream"}
{"type": "search_start", "message": "Searching document..."}
{"type": "search_complete", "message": "Found 5 relevant sections", "chunks_count": 5}
{"type": "images_found", "message": "Found 3 relevant images", "count": 3}
{"type": "image", "filename": "image_0001.png", "data": "data:image/png;base64,..."}
{"type": "response_start", "message": "Generating response..."}
{"type": "content", "content": "This document"} // streams word by word
{"type": "complete", "message": "Response complete", "images_shown": 3}
{"type": "end"}
```

### 3. Clear History
```http
POST /api/chat/clear/{session_id}
```

---

## ğŸ¨ UI Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ğŸ¤– MultiModal RAG Chat          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Document ID] [Initialize]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chat Messages   â”‚ Image Gallery     â”‚
â”‚ â€¢ User (right)  â”‚ ğŸ“¸ Images         â”‚
â”‚ â€¢ AI (left)     â”‚ [img] filename    â”‚
â”‚ â€¢ Status (ctr)  â”‚ [img] filename    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Type message...] [Send]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» Implementation Guide

### State Management
```typescript
interface State {
  sessionId: string | null;
  messages: Array<{id: string, type: 'user'|'assistant'|'system', content: string}>;
  images: Array<{filename: string, data: string}>;
  isStreaming: boolean;
  statusMessage: string;
}
```

### SSE Handler
```javascript
const eventSource = new EventSource(
  `${API_BASE}/chat/stream/${sessionId}?message=${encodeURIComponent(message)}`
);

eventSource.onmessage = (event) => {
  const data = JSON.parse(event.data);
  
  switch(data.type) {
    case 'search_start':
      setStatus(data.message);
      break;
    case 'image':
      addImage(data);
      break;
    case 'content':
      appendToMessage(data.content); // streaming
      break;
    case 'complete':
      setStatus('Done!');
      eventSource.close();
      break;
  }
};
```

### User Flow
1. Enter document ID â†’ Click Initialize â†’ Store `session_id`
2. Type message â†’ Send â†’ Disable input
3. Connect SSE â†’ Handle events â†’ Display streaming text + images
4. On complete â†’ Re-enable input

---

## ğŸ¨ Design
- **User messages:** Right-aligned, blue (#667eea)
- **AI messages:** Left-aligned, gray (#f1f3f4)
- **System messages:** Center, yellow (#fff3cd)
- **Images:** Thumbnails in sidebar, click to enlarge
- **Streaming:** Smooth typing effect, auto-scroll

---

## ğŸ“¦ Tech Stack
- React + TypeScript
- Tailwind CSS
- EventSource API for SSE
- Lucide React for icons

---

## âœ… Requirements
- [x] Initialize chat session
- [x] Stream responses in real-time
- [x] Display images as they arrive
- [x] Show status updates
- [x] Handle errors gracefully
- [x] Responsive layout
- [x] Auto-scroll messages
- [x] Disable input while processing

Build a clean, functional chat UI with real-time streaming and image display!